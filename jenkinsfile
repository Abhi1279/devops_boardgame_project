pipeline{
    agent any

    tools {
        maven 'mymvn'
    }
    environment {
        BUILD_SERVER= 'ec2-user@172.31.90.252'
        DEPLOY_SERVER = 'ec2-user@172.31.89.53'
        IMAGE_NAME = "abhishek1127/boardgame_image:v${BUILD_NUMBER}"
    }
    stages{
        
        // agent any
        
        stage('Compile') { //code compile
            steps {
             sh 'mvn compile'
            }
        }
        // stage('Test') { //test will run
        //     steps {
        //      sh 'mvn test'
        //     }
        // }
        stage('Package') { // creating trgt folder on ec2(build server)
            steps {
             sh 'mvn package'
            }
        }
    }
    
}
